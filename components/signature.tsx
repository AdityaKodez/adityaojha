import { motion, useAnimation, type ViewportOptions } from "motion/react";

interface SignatureProps {
  className?: string;
  controls?: ReturnType<typeof useAnimation>;
  viewport?: ViewportOptions;
}

export function Signature({ className, controls, viewport }: SignatureProps) {
  return (
    <svg
      width="115"
      height="63"
      viewBox="0 0 115 63"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
    >
      <motion.path
        d="M4.15412 53.8726C4.15412 53.7512 4.3311 53.2238 4.66778 52.3347M4.66778 52.3347C5.71704 49.5639 8.31744 43.2805 11.9465 34.827C14.6047 28.6352 15.6345 26.7469 17.0847 24.8499C17.4401 24.3849 18.0275 24.2175 18.2849 24.8385C19.8869 28.7021 19.4209 31.2678 21.1853 35.9951C22.7493 40.1854 26.9785 45.8909 28.9493 49.1301C30.6865 51.9854 32.1186 53.7481 33.5842 55.2298M4.66778 52.3347C2.97457 49.4482 1.17554 45.342 1.05874 36.582C0.875097 22.809 0.999093 18.8045 3.27946 15.6167C4.54033 13.8542 6.10005 11.8605 9.11241 11.7149C14.2827 11.465 18.0323 11.7389 18.8643 12.6709C20.9581 15.0166 24.5063 18.6392 30.8728 31.7714C33.9531 38.125 36.0143 42.1057 36.1511 45.003C36.322 48.6236 36.3586 51.9744 35.6691 54.0216M4.66778 52.3347C5.24493 53.3185 5.80979 54.1607 6.29154 54.9972C8.39896 58.6562 14.0972 59.9157 21.8593 60.5632C25.9647 60.9056 29.1292 57.7953 33.2848 55.4023C33.3852 55.3445 33.485 55.287 33.5842 55.2298M33.5842 55.2298C33.7419 55.3893 33.9001 55.5455 34.0591 55.6995C34.4269 56.0559 35.0663 55.3947 35.4487 54.5769C35.5293 54.4045 35.6026 54.2191 35.6691 54.0216M33.5842 55.2298C34.3103 54.811 35.0044 54.4086 35.6691 54.0216M35.6691 54.0216C45.0754 48.5444 48.5786 46.1526 53.4189 44.2249L53.4559 44.2101C57.8599 42.4562 61.2003 41.1258 64.0303 40.4972C69.2243 39.3433 75.8306 39.7342 79.3008 40.8682C81.7951 41.6833 83.0323 43.7629 84.545 45.7868C86.6491 48.6018 88.2045 50.5784 90.0977 52.2899C90.6051 52.6079 91.1049 52.8578 91.5498 52.7367M51.1054 31.5329C49.7272 32.2826 46.948 34.8043 44.9904 37.3904C44.4578 38.094 44.6686 39.2117 44.9185 39.8516C45.7733 42.0405 49.0759 42.0061 52.6692 42.0723C55.2016 42.119 57.406 40.4991 58.8637 39.0489C59.4014 38.514 59.374 37.758 59.009 36.8897M59.009 36.8897C58.4182 35.4843 56.9431 33.7849 55.5481 32.2533M59.009 36.8897C57.224 35.7199 56.0372 34.3202 55.6472 32.6612C55.6154 32.5257 55.5823 32.3897 55.5481 32.2533M59.009 36.8897C59.4848 37.2015 60.0031 37.497 60.5601 37.7766C61.2617 38.129 62.0708 37.9698 62.582 37.7199C63.0869 37.473 63.3369 36.9824 63.467 36.3611M55.5481 32.2533C54.4944 31.0963 53.4865 30.0351 52.9399 29.2686C50.799 26.2661 49.7196 20.1964 48.8999 17.154C48.57 15.9299 48.0088 13.9129 47.3866 11.6413M55.5481 32.2533C55.0407 30.2258 54.2971 28.1024 53.754 25.7795C53.1198 23.0665 52.6646 20.8767 51.4159 19.0946C50.4178 17.6701 48.8192 15.3698 47.3866 11.6413M47.3866 11.6413C46.7814 9.43174 46.1184 6.98138 45.5546 4.78578C45.2702 3.67852 45.051 2.26025 44.483 1.43482C42.8794 -0.895793 45.7969 6.78499 46.558 9.24426C46.8236 10.1026 47.1018 10.9002 47.3866 11.6413ZM63.467 36.3611C63.4686 36.3534 63.4702 36.3456 63.4718 36.3378C64.2293 32.6172 61.8361 28.7612 61.6449 28.3163C60.6255 25.9446 62.7145 34.047 63.345 36.069C63.3762 36.1692 63.4174 36.2669 63.467 36.3611ZM63.467 36.3611C63.685 36.7754 64.0653 37.1239 64.4771 37.3336C64.9826 37.5911 65.6073 37.5911 66.1791 37.4037C67.2914 37.039 68.313 36.3899 69.2276 35.5927M69.2276 35.5927C70.5952 34.4007 71.7234 32.8776 72.5573 31.4799C74.0373 28.999 72.0669 23.3694 70.5467 19.1741C69.7149 16.8788 68.6516 14.6304 65.1927 11.1602C64.5234 10.4887 63.9868 11.0788 63.7936 12.5839C62.685 21.2252 65.365 26.5954 66.2472 29.5658C66.8607 31.6315 67.7425 33.6673 69.2276 35.5927ZM69.2276 35.5927C69.5489 36.0093 69.8985 36.4208 70.2797 36.8263C73.3721 40.1153 77.7276 39.863 79.3652 39.5506C79.7476 39.4776 80.0823 39.3126 80.3779 39.0825M80.3779 39.0825C81.3536 38.323 81.9035 36.8543 82.3394 35.6468C82.6266 34.8512 82.5325 33.9486 82.2826 33.4355C82.0327 32.9225 81.5329 32.7975 81.2754 33.4204C80.512 35.2672 80.3203 37.1906 80.3779 39.0825ZM80.3779 39.0825C80.4444 41.2665 80.8432 43.4084 81.0785 45.3419C81.1662 46.0622 81.5178 46.5421 82.0213 46.987C82.5249 47.4319 83.2747 47.8068 83.9108 47.875C87.3285 48.2412 89.3405 41.1352 90.9194 39.1132C91.3339 38.5824 91.8622 38.1061 91.9322 38.0985C93.6986 37.9075 89.9842 43.1193 88.3465 46.8507C85.2854 53.8259 84.6832 57.0153 84.3008 59.2285C84.2014 59.8033 83.9259 60.4231 83.4848 60.8699C82.5902 61.776 80.7756 61.8241 78.9487 61.7616C75.4398 61.6416 72.0669 58.4239 70.7985 56.4682C70.4591 55.9448 70.2949 55.2736 70.3536 54.5144C70.4839 52.8291 71.7981 51.1048 73.1195 49.5921C77.4625 48.193 82.7748 48.6928 84.9217 49.5788C85.5541 49.7076 86.3038 49.7076 87.0762 49.7076M102.979 44.028C100.101 44.028 94.6528 44.5278 93.9599 45.5975C93.2407 46.7076 93.1344 49.0601 93.3843 51.7087C93.5334 53.289 95.1488 53.7439 96.156 54.185C96.6527 54.4025 97.1632 54.5012 97.733 54.4406C100.957 54.0978 103.35 49.3441 104.051 46.7504C104.387 45.506 104.24 54.3724 104.617 55.3171C104.999 56.2756 106.254 56.773 107.638 57.1516C109.219 57.5841 110.923 56.9055 112.246 56.0877C112.82 55.6446 113.195 55.1448 113.45 54.6375C113.706 54.1301 113.831 53.6303 113.96 52.7367M60.9501 21.6883C60.9501 21.8132 60.9501 21.9382 60.7002 22.065C60.4503 22.1918 59.9505 22.3168 59.7555 22.1313C59.5605 21.9457 59.6854 21.4459 59.8123 20.9386L60.1928 19.4164M63.2219 25.4746C64.4752 25.4746 67.2506 25.2247 73.0438 25.2209C74.3236 25.3459 74.8234 25.5958 75.3933 25.7245C75.9631 25.8533 76.5879 25.8533 77.2316 25.8533"
        stroke="currentColor"
        strokeWidth="2"
        strokeLinecap="round"
        initial={{ pathLength: 0 }}
        animate={controls}
        whileInView={!controls ? { pathLength: 1 } : undefined}
        viewport={{ once: true, amount: 0.5, ...viewport }}
        transition={{ duration: 2, ease: "easeInOut" }}
      />
    </svg>
  );
}
